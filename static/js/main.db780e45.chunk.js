(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),a=n(8),s=n.n(a),c=n(9),o=n(3),u=n(4),l=n(6),d=n(5),m=n(2),j=n(0),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,i=e.onChange;return Object(j.jsx)("input",{type:"number",name:t,min:"0",max:"59",step:"1",value:n,onChange:i})}}]),n}(i.Component),b=p;var h=function(e){var t=Object(i.useRef)(null),n=e.canPlay,r=e.handleEnd;return n&&t.current.play(),Object(j.jsx)("video",{className:"timeout-video",ref:t,onEnded:r,preload:"auto",children:Object(j.jsx)("source",{src:"".concat("/timer","/assets/explosion.mp4"),type:"video/mp4"})})},v=(n(15),["The Ink Spots - It's All Over But The Crying","Billie Holiday - Easy Living","Andrews Sisters & Danny Kaye - Civilization","The Ink Spots - I Don't Want To Set The World On Fire","Connie Allen - Rocket 69"]),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n),(e=t.call(this)).startTimer=function(){e.state.soundtrack.every((function(e){return e.paused}))&&e.playTrack();var t=setInterval((function(){e.timerHandler(t)}),1e3);e.setState({isStarted:!0,isPaused:!1,timer:t})},e.pauseTimer=function(){var t=e.state,n=t.timer,i=t.fieldsBlinker;clearInterval(n),clearInterval(i),e.setState({isPaused:!0,timer:null,fieldsBlinker:null,timerDisplay:!0})},e.resetTimer=function(){e.setState({hour:0,minute:0,second:0,isStarted:!1,isPaused:!1,isEnded:!1,timer:null})},e.timerHandler=function(t){var n=e.state,i=n.hour,r=n.minute,a=n.second;[Number(i),Number(r),Number(a)].every((function(e){return 0===e}))?(clearInterval(t),e.endTimer()):0===r&&0===a?(i-=1,r=59,a=59):0===a?(r-=1,a=59):a-=1,e.setState({hour:i,minute:r,second:a})},e.endTimer=function(){var t=setInterval((function(){e.setState((function(e){return{timerDisplay:!e.timerDisplay}}))}),500);e.setState({fieldsBlinker:t,isEnded:!0})},e.endTimeoutVideo=function(){return e.setState({isEnded:!1})},e.endIntro=function(){return e.setState({introEnded:!0})},e.onChange=function(t){var n=t.target,i=n.name,r=n.value;(r=String(r)).length<=2&&Number(r)<=59&&e.setState(Object(c.a)({},i,Number(r)))},e.playTrack=function(){var t=e.state.soundtrack;t.forEach((function(n,i){if(n.volume=.5,0===i){n.play();var r="".concat(v[i]," \u266a");e.setState({musicName:r})}i!==t.length-1?n.addEventListener("ended",(function(){t[i+1].play();var n="".concat(v[i+1]," \u266a");e.setState({musicName:n})})):n.addEventListener("ended",(function(){return e.playTrack()}))}))};var i=v.map((function(e){return new Audio("".concat("/timer","/assets/soundtrack/").concat(e,".mp3"))}));return e.state={hour:0,minute:0,second:0,timer:null,isStarted:!1,isPaused:!1,isEnded:!1,introEnded:!1,soundtrack:i,musicName:"Awaiting User",fieldsBlinker:null,timerDisplay:!0},e}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.soundtrack,n=e.timer,i=e.fieldsBlinker;clearInterval(n),clearInterval(i),t.forEach((function(e){return e.pause()}))}},{key:"render",value:function(){var e=this.state,t=e.hour,n=e.minute,i=e.second,r=e.isStarted,a=e.isPaused,s=e.isEnded,c=e.introEnded,o=e.musicName,u=e.timerDisplay,l=this.startTimer,d=this.pauseTimer,p=this.resetTimer,v=this.onChange,O=this.endIntro,f=this.endTimeoutVideo,y=[t,n,i].map((function(e){return String(e).padStart(2,"0")})),x="/timer";return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("img",{src:"".concat(x,"/assets/pip-boy.png"),alt:"Pip Boy",className:"pip-boy-image"}),Object(j.jsx)(h,{canPlay:s,handleEnd:function(){return f()}}),Object(j.jsxs)("div",{className:"pip-boy-screen",children:[!c&&Object(j.jsx)("video",{autoPlay:!0,muted:!0,onEnded:O,className:"intro-video",children:Object(j.jsx)("source",{src:"".concat(x,"/assets/initialize.mp4"),type:"video/mp4"})}),Object(j.jsx)("h2",{className:"music-name",children:o}),r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"timer ".concat(!u&&"hidden"),children:[Object(j.jsx)("span",{children:y[0]}),":",Object(j.jsx)("span",{children:y[1]}),":",Object(j.jsx)("span",{children:y[2]})]}),a?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",onClick:l,children:Object(j.jsx)(m.c,{})}),Object(j.jsx)("button",{type:"button",onClick:p,children:Object(j.jsx)(m.b,{})})]}):Object(j.jsx)("button",{type:"button",onClick:d,children:Object(j.jsx)(m.a,{})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"timer-input",children:[Object(j.jsx)(b,{name:"hour",value:t,onChange:v}),":",Object(j.jsx)(b,{name:"minute",value:n,onChange:v}),":",Object(j.jsx)(b,{name:"second",value:i,onChange:v})]}),Object(j.jsx)("button",{type:"button",onClick:l,children:Object(j.jsx)(m.c,{})})]})]})]})}}]),n}(i.Component);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.db780e45.chunk.js.map