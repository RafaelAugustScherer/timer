(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(8),s=n.n(i),c=n(9),o=n(3),u=n(4),d=n(6),l=n(5),m=n(2),j=n(0),p=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,a=e.onChange;return Object(j.jsx)("input",{type:"text",name:t,value:n,onChange:a})}}]),n}(a.Component),b=p;var h=function(e){var t=Object(a.useRef)(null),n=e.canPlay,r=e.handleEnd;return n&&t.current.play(),Object(j.jsx)("video",{className:"timeout-video",ref:t,onEnded:r,preload:"auto",children:Object(j.jsx)("source",{src:"".concat("/timer","/assets/explosion.mp4"),type:"video/mp4"})})},v=(n(15),["The Ink Spots - It's All Over But The Crying","Billie Holiday - Easy Living","Andrews Sisters & Danny Kaye - Civilization","The Ink Spots - I Don't Want To Set The World On Fire","Connie Allen - Rocket 69"]),f=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n),(e=t.call(this)).startTimer=function(){e.state.soundtrack.every((function(e){return e.paused}))&&e.playTrack();var t=setInterval((function(){e.timerHandler(t)}),1e3);e.setState({isStarted:!0,isPaused:!1,timer:t})},e.pauseTimer=function(){var t=e.state,n=t.timer,a=t.fieldsBlinker;clearInterval(n),clearInterval(a),e.setState({isPaused:!0,timer:null,fieldsBlinker:null,timerDisplay:!0})},e.resetTimer=function(){e.setState({hour:0,minute:0,second:0,isStarted:!1,isPaused:!1,isEnded:!1,timer:null})},e.timerHandler=function(t){var n=e.state,a=n.hour,r=n.minute,i=n.second;[Number(a),Number(r),Number(i)].every((function(e){return 0===e}))?(clearInterval(t),e.endTimer()):0===r&&0===i?(a-=1,r=59,i=59):0===i?(r-=1,i=59):i-=1,e.setState({hour:a,minute:r,second:i})},e.endTimer=function(){var t=setInterval((function(){e.setState((function(e){return{timerDisplay:!e.timerDisplay}}))}),500);e.setState({fieldsBlinker:t,isEnded:!0}),e.pauseTrack()},e.endTimeoutVideo=function(){return e.setState({isEnded:!1})},e.endIntro=function(){return e.setState({introEnded:!0})},e.onChange=function(t){var n=t.target,a=n.name,r=n.value;r=(r=Number(r))<10?"0".concat(r):r,(r=String(r)).length<=2&&Number(r)<=59&&e.setState(Object(c.a)({},a,Number(r)))},e.playTrack=function(){var t=e.state.soundtrack;t.forEach((function(n,a){if(n.volume=.5,0===a){n.play();var r="".concat(v[a]," \u266a");e.setState({musicName:r})}a!==t.length-1?n.addEventListener("ended",(function(){t[a+1].play();var n="".concat(v[a+1]," \u266a");e.setState({musicName:n})})):n.addEventListener("ended",(function(){return e.playTrack()}))}))},e.pauseTrack=function(){e.state.soundtrack.forEach((function(e){return e.pause()}))};var a=v.map((function(e){return new Audio("".concat("/timer","/assets/soundtrack/").concat(e,".mp3"))}));return e.state={hour:"00",minute:"00",second:"00",timer:null,isStarted:!1,isPaused:!1,isEnded:!1,introEnded:!1,soundtrack:a,musicName:"Awaiting User",fieldsBlinker:null,timerDisplay:!0},e}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.soundtrack,n=e.timer,a=e.fieldsBlinker;clearInterval(n),clearInterval(a),t.forEach((function(e){return e.pause()}))}},{key:"render",value:function(){var e=this.state,t=e.hour,n=e.minute,a=e.second,r=e.isStarted,i=e.isPaused,s=e.isEnded,c=e.introEnded,o=e.musicName,u=e.timerDisplay,d=this.startTimer,l=this.pauseTimer,p=this.resetTimer,v=this.onChange,f=this.endIntro,O=this.endTimeoutVideo,y=[t,n,a].map((function(e){return String(e).padStart(2,"0")})),x="/timer";return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("img",{src:"".concat(x,"/assets/pip-boy.png"),alt:"Pip Boy",className:"pip-boy-image"}),Object(j.jsx)(h,{canPlay:s,handleEnd:function(){return O()}}),Object(j.jsxs)("div",{className:"pip-boy-screen",children:[!c&&Object(j.jsx)("video",{autoPlay:!0,muted:!0,onEnded:f,className:"intro-video",children:Object(j.jsx)("source",{src:"".concat(x,"/assets/initialize.mp4"),type:"video/mp4"})}),Object(j.jsx)("h2",{className:"music-name",children:o}),r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"timer ".concat(!u&&"hidden"),children:[Object(j.jsx)("span",{children:y[0]}),":",Object(j.jsx)("span",{children:y[1]}),":",Object(j.jsx)("span",{children:y[2]})]}),i?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",onClick:d,children:Object(j.jsx)(m.c,{})}),Object(j.jsx)("button",{type:"button",onClick:p,children:Object(j.jsx)(m.b,{})})]}):Object(j.jsx)("button",{type:"button",onClick:l,children:Object(j.jsx)(m.a,{})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"timer-input",children:[Object(j.jsx)(b,{name:"hour",value:y[0],onChange:v}),":",Object(j.jsx)(b,{name:"minute",value:y[1],onChange:v}),":",Object(j.jsx)(b,{name:"second",value:y[2],onChange:v})]}),Object(j.jsx)("button",{type:"button",onClick:d,children:Object(j.jsx)(m.c,{})})]})]})]})}}]),n}(a.Component);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c2e33934.chunk.js.map