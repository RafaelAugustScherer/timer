{"version":3,"sources":["Input.js","TimeoutVideo.js","App.js","index.js"],"names":["Input","this","props","name","value","onChange","type","Component","TimeoutVideo","vidRef","useRef","canPlay","handleEnd","current","play","className","ref","onEnded","preload","src","process","musics","App","startTimer","state","soundtrack","every","paused","playTrack","timer","setInterval","timerHandler","setState","isStarted","isPaused","pauseTimer","fieldsBlinker","clearInterval","timerDisplay","resetTimer","hour","minute","second","isEnded","Number","timeUnit","endTimer","pauseTrack","endTimeoutVideo","endIntro","introEnded","target","String","length","forEach","music","idx","volume","musicName","addEventListener","pause","map","Audio","timeArr","padStart","publicFolder","alt","autoPlay","muted","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAEMA,E,4JACJ,WACE,MAAgCC,KAAKC,MAA/BC,EAAN,EAAMA,KAAMC,EAAZ,EAAYA,MAAOC,EAAnB,EAAmBA,SAEnB,OACE,uBACEC,KAAK,OACLH,KAAOA,EACPC,MAAQA,EACRC,SAAWA,Q,GATCE,aAeLP,ICGAQ,MAlBf,SAAsBN,GACpB,IAAMO,EAASC,iBAAO,MACdC,EAAuBT,EAAvBS,QAASC,EAAcV,EAAdU,UASjB,OAHAD,GAHEF,EAAOI,QAAQC,OAOf,uBAAOC,UAAU,gBAAgBC,IAAKP,EAAQQ,QAAUL,EAAYM,QAAQ,OAA5E,SACE,wBAAQC,IAAG,UAHMC,SAGN,yBAA4Cd,KAAK,iBCT5De,G,MAAS,CACb,+CACA,+BACA,8CACA,wDACA,6BAiOaC,E,kDA7Nb,aAAe,IAAD,uBACZ,gBA8BFC,WAAa,WACY,EAAKC,MAApBC,WACOC,OAAM,qBAAGC,WAAsB,EAAKC,YAEnD,IAAMC,EAAQC,aAAY,WACxB,EAAKC,aAAaF,KACjB,KAEH,EAAKG,SAAS,CACZC,WAAW,EACXC,UAAU,EACVL,WA1CU,EA8CdM,WAAa,WACX,MAAiC,EAAKX,MAA9BK,EAAR,EAAQA,MAAOO,EAAf,EAAeA,cACfC,cAAcR,GACdQ,cAAcD,GAEd,EAAKJ,SAAS,CACZE,UAAU,EACVL,MAAO,KACPO,cAAe,KACfE,cAAc,KAvDJ,EA2DdC,WAAa,WACX,EAAKP,SAAS,CACZQ,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRT,WAAW,EACXC,UAAU,EACVS,SAAS,EACTd,MAAO,QAnEG,EAuEdE,aAAe,SAACF,GACd,MAA+B,EAAKL,MAA9BgB,EAAN,EAAMA,KAAMC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,OACJ,CAACE,OAAOJ,GAAOI,OAAOH,GAASG,OAAOF,IAG1ChB,OAAM,SAACmB,GAAD,OAA2B,IAAbA,MAC9BR,cAAcR,GACd,EAAKiB,YACe,IAAXL,GAA2B,IAAXC,GACzBF,GAAQ,EACRC,EAPgB,GAQhBC,EARgB,IASI,IAAXA,GACTD,GAAU,EACVC,EAXgB,IAahBA,GAAU,EAGZ,EAAKV,SAAS,CACZQ,OACAC,SACAC,YA7FU,EAiGdI,SAAW,WACT,IAAMV,EAAgBN,aAAY,WAChC,EAAKE,UAAS,kBAAuB,CACnCM,cADY,EAAGA,mBAGhB,KAEH,EAAKN,SAAS,CAAEI,gBAAeO,SAAS,IACxC,EAAKI,cAzGO,EA4GdC,gBAAkB,kBAAM,EAAKhB,SAAS,CAAEW,SAAS,KA5GnC,EA8GdM,SAAW,kBAAM,EAAKjB,SAAS,CAAEkB,YAAY,KA9G/B,EAgHd7C,SAAW,YAAkC,IAAD,IAA9B8C,OAAUhD,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,MAG5BA,GADAA,EAAQwC,OAAOxC,IACC,GAAR,WAAiBA,GAAUA,GAEnCA,EAAQgD,OAAOhD,IACLiD,QAAU,GAAKT,OAAOxC,IALd,IAMhB,EAAK4B,SAAL,eAAiB7B,EAAOyC,OAAOxC,MAvHrB,EA2HdwB,UAAY,WACV,IAAQH,EAAe,EAAKD,MAApBC,WAERA,EAAW6B,SAAQ,SAACC,EAAOC,GAEzB,GADAD,EAAME,OAAS,GACH,IAARD,EAAW,CACbD,EAAMzC,OAEN,IAAM4C,EAAS,UAAMrC,EAAOmC,GAAb,WACf,EAAKxB,SAAS,CAAE0B,cAEdF,IAAQ/B,EAAW4B,OAAS,EAC9BE,EAAMI,iBAAiB,SAAS,WAChBlC,EAAW+B,EAAM,GACzB1C,OAEN,IAAM4C,EAAS,UAAMrC,EAAOmC,EAAM,GAAnB,WACf,EAAKxB,SAAS,CAAE0B,iBAIlBH,EAAMI,iBAAiB,SAAS,kBAAM,EAAK/B,mBAhJnC,EAqJdmB,WAAa,WACY,EAAKvB,MAApBC,WACG6B,SAAQ,SAACC,GAAD,OAAWA,EAAMK,YApJpC,IACMnC,EAAaJ,EAAOwC,KACxB,SAACH,GAAD,OAAe,IAAII,MAAJ,UAFI1C,SAEJ,8BAA+CsC,EAA/C,YALL,OAQZ,EAAKlC,MAAQ,CACXgB,KAAM,KACNC,OAAQ,KACRC,OAAQ,KACRb,MAAO,KACPI,WAAW,EACXC,UAAU,EACVS,SAAS,EACTO,YAAY,EACZzB,aACAiC,UAAW,gBACXtB,cAAe,KACfE,cAAc,GApBJ,E,wDAwBd,WACE,MAA6CrC,KAAKuB,MAA1CC,EAAR,EAAQA,WAAYI,EAApB,EAAoBA,MAAOO,EAA3B,EAA2BA,cAC3BC,cAAcR,GACdQ,cAAcD,GACdX,EAAW6B,SAAQ,SAACC,GAAD,OAAWA,EAAMK,a,oBA8HtC,WACE,MACE3D,KAAKuB,MADCgB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAAQC,EAAtB,EAAsBA,OAAQT,EAA9B,EAA8BA,UAAWC,EAAzC,EAAyCA,SAAUS,EAAnD,EAAmDA,QAASO,EAA5D,EAA4DA,WAAYQ,EAAxE,EAAwEA,UAAWpB,EAAnF,EAAmFA,aAE3Ef,EAA4EtB,KAA5EsB,WAAYY,EAAgElC,KAAhEkC,WAAYI,EAAoDtC,KAApDsC,WAAYlC,EAAwCJ,KAAxCI,SAAU4C,EAA8BhD,KAA9BgD,SAAUD,EAAoB/C,KAApB+C,gBAC1De,EAAU,CAACvB,EAAMC,EAAQC,GAAQmB,KAAI,SAAChB,GAAD,OACzCO,OAAOP,GAAUmB,SAAS,EAAG,QAKzBC,EAAe7C,SAErB,OACE,sBAAKL,UAAU,MAAf,UACE,qBAAKI,IAAG,UAAM8C,EAAN,uBAA0CC,IAAI,UAAUnD,UAAU,kBAC1E,cAAC,EAAD,CAAcJ,QAAUgC,EAAU/B,UAAY,kBAAMoC,OACpD,sBAAKjC,UAAU,iBAAf,WACEmC,GACA,uBAAOiB,UAAQ,EAACC,OAAK,EAACnD,QAASgC,EAAUlC,UAAU,cAAnD,SACE,wBAAQI,IAAG,UAAM8C,EAAN,0BAA6C3D,KAAK,gBAGjE,oBAAIS,UAAU,aAAd,SAA4B2C,IAC1BzB,EAcA,qCACE,sBAAKlB,UAAS,iBAAauB,GAAgB,UAA3C,UACE,+BAAOyB,EAAQ,KACd,IACD,+BAAOA,EAAQ,KACd,IACD,+BAAOA,EAAQ,QAEf7B,EAKA,gCACE,wBAAQ5B,KAAK,SAAS+D,QAAS9C,EAA/B,SACE,cAAC,IAAD,MAEF,wBAAQjB,KAAK,SAAS+D,QAAS9B,EAA/B,SACE,cAAC,IAAD,SATJ,wBAAQjC,KAAK,SAAS+D,QAASlC,EAA/B,SACE,cAAC,IAAD,SAvBN,qCACE,sBAAKpB,UAAU,cAAf,UACE,cAAC,EAAD,CAAOZ,KAAK,OAAOC,MAAO2D,EAAQ,GAAI1D,SAAUA,IAC/C,IACD,cAAC,EAAD,CAAOF,KAAK,SAASC,MAAO2D,EAAQ,GAAI1D,SAAUA,IACjD,IACD,cAAC,EAAD,CAAOF,KAAK,SAASC,MAAO2D,EAAQ,GAAI1D,SAAUA,OAEpD,wBAAQC,KAAK,SAAS+D,QAAS9C,EAA/B,SACE,cAAC,IAAD,mB,GA5LIhB,aCVlB+D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c2e33934.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Input extends Component {\r\n  render() {\r\n    let { name, value, onChange } = this.props;\r\n\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        name={ name }\r\n        value={ value }\r\n        onChange={ onChange }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;","import React, { useRef } from 'react';\r\n\r\nfunction TimeoutVideo(props) {\r\n  const vidRef = useRef(null);\r\n  const { canPlay, handleEnd } = props;\r\n\r\n  const playVideo = () => {\r\n    vidRef.current.play();\r\n  }\r\n\r\n  canPlay && playVideo();\r\n\r\n  const publicFolder = process.env.PUBLIC_URL;\r\n  return (\r\n    <video className=\"timeout-video\" ref={vidRef} onEnded={ handleEnd } preload=\"auto\">\r\n      <source src={ `${publicFolder}/assets/explosion.mp4` } type=\"video/mp4\" />\r\n    </video>\r\n  )\r\n}\r\n\r\nexport default TimeoutVideo;","import React, { Component } from 'react';\nimport { VscDebugStart, VscDebugPause, VscDebugRestart } from 'react-icons/vsc';\nimport Input from './Input';\nimport TimeoutVideo from './TimeoutVideo';\nimport './App.css';\n\nconst musics = [\n  \"The Ink Spots - It's All Over But The Crying\",\n  'Billie Holiday - Easy Living',\n  'Andrews Sisters & Danny Kaye - Civilization',\n  \"The Ink Spots - I Don't Want To Set The World On Fire\",\n  'Connie Allen - Rocket 69',\n];\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    const publicFolder = process.env.PUBLIC_URL;\n    const soundtrack = musics.map(\n      (musicName) => new Audio(`${publicFolder}/assets/soundtrack/${musicName}.mp3`)\n    );\n\n    this.state = {\n      hour: '00',\n      minute: '00',\n      second: '00',\n      timer: null,\n      isStarted: false,\n      isPaused: false,\n      isEnded: false,\n      introEnded: false,\n      soundtrack,\n      musicName: 'Awaiting User',\n      fieldsBlinker: null,\n      timerDisplay: true,\n    };\n  }\n\n  componentWillUnmount() {\n    const { soundtrack, timer, fieldsBlinker } = this.state;\n    clearInterval(timer);\n    clearInterval(fieldsBlinker);\n    soundtrack.forEach((music) => music.pause());\n  }\n\n  startTimer = () => {\n    const { soundtrack } = this.state;\n    if (soundtrack.every(({ paused }) => paused)) this.playTrack();\n\n    const timer = setInterval(() => {\n      this.timerHandler(timer);\n    }, 1000);\n\n    this.setState({\n      isStarted: true,\n      isPaused: false,\n      timer,\n    });\n  };\n\n  pauseTimer = () => {\n    const { timer, fieldsBlinker } = this.state;\n    clearInterval(timer);\n    clearInterval(fieldsBlinker);\n\n    this.setState({\n      isPaused: true,\n      timer: null,\n      fieldsBlinker: null,\n      timerDisplay: true,\n    });\n  };\n\n  resetTimer = () => {\n    this.setState({\n      hour: 0,\n      minute: 0,\n      second: 0,\n      isStarted: false,\n      isPaused: false,\n      isEnded: false,\n      timer: null,\n    });\n  };\n\n  timerHandler = (timer) => {\n    let { hour, minute, second } = this.state;\n    const timeArr = [Number(hour), Number(minute), Number(second)];\n    const CLOCK_MAX = 59;\n\n    if (timeArr.every((timeUnit) => timeUnit === 0)) {\n      clearInterval(timer);\n      this.endTimer();\n    } else if (minute === 0 && second === 0) {\n      hour -= 1;\n      minute = CLOCK_MAX;\n      second = CLOCK_MAX;\n    } else if (second === 0) {\n      minute -= 1;\n      second = CLOCK_MAX;\n    } else {\n      second -= 1;\n    }\n\n    this.setState({\n      hour,\n      minute,\n      second,\n    });\n  };\n\n  endTimer = () => {\n    const fieldsBlinker = setInterval(() => {\n      this.setState(({ timerDisplay }) => ({\n        timerDisplay: !timerDisplay,\n      }));\n    }, 500);\n\n    this.setState({ fieldsBlinker, isEnded: true });\n    this.pauseTrack();\n  };\n\n  endTimeoutVideo = () => this.setState({ isEnded: false })\n\n  endIntro = () => this.setState({ introEnded: true });\n\n  onChange = ({ target: { name, value } }) => {\n    const CLOCK_MAX = 59;\n    value = Number(value);\n    value = value < 10 ? `0${value}` : value;\n\n    value = String(value);\n    if (value.length <= 2 && Number(value) <= CLOCK_MAX) {\n      this.setState({ [name]: Number(value) });\n    }\n  };\n\n  playTrack = () => {\n    const { soundtrack } = this.state;\n\n    soundtrack.forEach((music, idx) => {\n      music.volume = 0.5;\n      if (idx === 0) {\n        music.play();\n\n        const musicName = `${musics[idx]} ♪`;\n        this.setState({ musicName });\n      }\n      if (idx !== soundtrack.length - 1) {\n        music.addEventListener('ended', () => {\n          const music = soundtrack[idx + 1];\n          music.play();\n\n          const musicName = `${musics[idx + 1]} ♪`;\n          this.setState({ musicName });\n        });\n      }\n      else {\n        music.addEventListener('ended', () => this.playTrack());\n      }\n    });\n  };\n\n  pauseTrack = () => {\n    const { soundtrack } = this.state;\n    soundtrack.forEach((music) => music.pause());\n  }\n\n  render() {\n    const { hour, minute, second, isStarted, isPaused, isEnded, introEnded, musicName, timerDisplay } =\n      this.state;\n    const { startTimer, pauseTimer, resetTimer, onChange, endIntro, endTimeoutVideo } = this;\n    const timeArr = [hour, minute, second].map((timeUnit) =>\n      String(timeUnit).padStart(2, '0')\n    );\n    \n\n    // https://create-react-app.dev/docs/using-the-public-folder/\n    const publicFolder = process.env.PUBLIC_URL;\n\n    return (\n      <div className=\"App\">\n        <img src={ `${publicFolder}/assets/pip-boy.png` } alt=\"Pip Boy\" className=\"pip-boy-image\" />\n        <TimeoutVideo canPlay={ isEnded } handleEnd={ () => endTimeoutVideo() } />\n        <div className=\"pip-boy-screen\">\n        {!introEnded && (\n          <video autoPlay muted onEnded={endIntro} className=\"intro-video\">\n            <source src={ `${publicFolder}/assets/initialize.mp4` } type=\"video/mp4\" />\n          </video>\n        )}\n        <h2 className=\"music-name\">{musicName}</h2>\n        {!isStarted ? (\n          <>\n            <div className=\"timer-input\">\n              <Input name=\"hour\" value={timeArr[0]} onChange={onChange} />\n              {':'}\n              <Input name=\"minute\" value={timeArr[1]} onChange={onChange} />\n              {':'}\n              <Input name=\"second\" value={timeArr[2]} onChange={onChange} />\n            </div>\n            <button type=\"button\" onClick={startTimer}>\n              <VscDebugStart />\n            </button>\n          </>\n        ) : (\n          <>\n            <div className={`timer ${ !timerDisplay && 'hidden' }`}>\n              <span>{timeArr[0]}</span>\n              {':'}\n              <span>{timeArr[1]}</span>\n              {':'}\n              <span>{timeArr[2]}</span>\n            </div>\n            {!isPaused ? (\n              <button type=\"button\" onClick={pauseTimer}>\n                <VscDebugPause />\n              </button>\n            ) : (\n              <div>\n                <button type=\"button\" onClick={startTimer}>\n                  <VscDebugStart />\n                </button>\n                <button type=\"button\" onClick={resetTimer}>\n                  <VscDebugRestart />\n                </button>\n              </div>\n            )}\n          </>\n        )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}