(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(11),c=n.n(a),r=n(7),u=n(8),o=n(9),d=n(2),l=n(4),m=n(6),j=n(5),b=n(3),h=n(0),p=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,i=e.onChange;return Object(h.jsx)("input",{type:"text",name:t,value:n,onChange:i})}}]),n}(i.Component),v=p;var O=function(e){var t=Object(i.useRef)(null),n=e.canPlay,s=e.handleEnd;return n&&t.current.play(),Object(h.jsx)("video",{className:"timeout-video",ref:t,onEnded:s,preload:"auto",children:Object(h.jsx)("source",{src:"".concat("/timer","/assets/explosion.mp4"),type:"video/mp4"})})},f=["The Ink Spots - It's All Over But The Crying","Billie Holiday - Easy Living","Andrews Sisters & Danny Kaye - Civilization","The Ink Spots - I Don't Want To Set The World On Fire","Connie Allen - Rocket 69"],y="/timer",x=function e(t){var n=this;Object(d.a)(this,e),this.play=function(){var e=n.music,t=n.musicName,i=n.updateMusicName;e.play(),i(t)},this.pause=function(){return n.music.pause()},this.mute=function(){return n.music.muted=!0},this.unmute=function(){return n.music.muted=!1},this.isPlaying=function(){return!n.music.paused},this.handleNext=function(){var e=n.index+1;e===f.length-1&&(e=0),n.index=e,n.musicName=f[e],n.updateMusicName(n.musicName),n.music.src="".concat(y,"/assets/soundtrack/").concat(f[e],".mp3"),n.music.play()},this.changeMusic=function(e){n.musicName=e,n.music.src="".concat(y,"/assets/soundtrack/").concat(e,".mp3")},this.updateMusicName=t,this.musicName=f[0],this.music=new Audio("".concat(y,"/assets/soundtrack/").concat(this.musicName,".mp3")),this.music.addEventListener("ended",(function(){return n.handleNext()})),this.index=0},k=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var i;Object(d.a)(this,n),(i=t.call(this)).click=function(){var e=i.state,t=e.isMuted,n=e.music;n.muted=!n.muted,i.setState({isMuted:!t})};var s=e.music;return i.state={isMuted:!1,music:s},i}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isMuted,t=this.click;return Object(h.jsx)(h.Fragment,{children:e?Object(h.jsx)(b.d,{onClick:t,className:"mute-sound-icon"}):Object(h.jsx)(b.e,{onClick:t,className:"mute-sound-icon"})})}}]),n}(i.Component),N=(n(17),function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n),(e=t.call(this)).startTimer=function(){var t=e.state.soundtrack;t.isPlaying()||t.play();var n=setInterval((function(){e.timerHandler(n)}),1e3);e.setState({isStarted:!0,isPaused:!1,timer:n})},e.pauseTimer=function(){var t=e.state,n=t.timer,i=t.fieldsBlinker;clearInterval(n),clearInterval(i),e.setState({isPaused:!0,timer:null,fieldsBlinker:null,timerDisplay:!0})},e.resetTimer=function(){e.setState({hour:0,minute:0,second:0,isStarted:!1,isPaused:!1,isEnded:!1,timer:null})},e.endTimer=function(){e.state.soundtrack.pause();var t=setInterval((function(){e.setState((function(e){return{timerDisplay:!e.timerDisplay}}))}),500);e.setState({fieldsBlinker:t,isEnded:!0,isStarted:!1,isPaused:!1})},e.timerHandler=function(t){var n=e.state.time,i=Object.values(n).map((function(e){return Number(e)})),s=Object(o.a)(i,3),a=s[0],c=s[1],d=s[2];0===a&&0===c&&0===d?(clearInterval(t),e.endTimer()):0===c&&0===d?(a-=1,c=59,d=59):0===d?(c-=1,d=59):d-=1,n=Object.entries({hour:a,minute:c,second:d}).reduce((function(e,t){var n=Object(o.a)(t,2),i=n[0],s=n[1];return Object(u.a)(Object(u.a)({},e),{},Object(r.a)({},i,s<10?"0".concat(s):String(s)))}),{}),e.setState({time:n})},e.endIntro=function(){return e.setState({introEnded:!0})},e.endTimeoutVideo=function(){var t=e.state.fieldsBlinker;clearInterval(t),e.setState({isEnded:!1,fieldsBlinker:null,timerDisplay:!0})},e.onChange=function(t){var n=t.target,i=n.name,s=n.value,a=e.state,c=a.time,o=a.soundtrack,d="hour"===i?99:59;(s=(s=Number(s))<10?"0".concat(s):String(s)).length<=2&&Number(s)<=d&&e.setState({time:Object(u.a)(Object(u.a)({},c),{},Object(r.a)({},i,s))}),"hour"===i&&"69"===s&&o.changeMusic("Connie Allen - Rocket 69"),console.log(i,s)},e.updateMusicName=function(t){return e.setState({musicName:t})};var i=new x(e.updateMusicName);return e.state={time:{hour:"00",minute:"00",second:"00"},timer:null,isStarted:!1,isPaused:!1,isEnded:!1,introEnded:!1,soundtrack:i,musicName:"Awaiting User",fieldsBlinker:null,timerDisplay:!0},e}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.soundtrack,n=e.timer,i=e.fieldsBlinker;t.pause(),clearInterval(n),clearInterval(i)}},{key:"render",value:function(){var e=this.state,t=e.time,n=e.isStarted,i=e.isPaused,s=e.isEnded,a=e.introEnded,c=e.musicName,r=e.timerDisplay,u=e.soundtrack,d=t.hour,l=t.minute,m=t.second,j=this.startTimer,p=this.pauseTimer,f=this.resetTimer,y=this.onChange,x=this.endIntro,N=this.endTimeoutVideo,g="/timer";return document.title="Pip Boy's Timer (".concat(d,":").concat(l,":").concat(m,")"),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("img",{src:"".concat(g,"/assets/pip-boy.png"),alt:"Pip Boy",className:"pip-boy-image"},"pip-boy-image"),Object(h.jsx)(O,{canPlay:s,handleEnd:N},"timeout-video"),Object(h.jsxs)("div",{className:"pip-boy-screen",children:[Object(h.jsx)(k,{music:u.music}),!a&&Object(h.jsx)("video",{autoPlay:!0,muted:!0,onEnded:x,className:"intro-video",children:Object(h.jsx)("source",{src:"".concat(g,"/assets/initialize.mp4"),type:"video/mp4"})}),Object(h.jsx)("h2",{className:"music-name",children:c}),Object(h.jsx)("div",{className:"timer".concat(n?"":"-input").concat(r?"":" hidden"),children:Object.entries(t).map((function(e,t,i){var s=Object(o.a)(e,2),a=s[0],c=s[1];return Object(h.jsxs)(h.Fragment,{children:[n?Object(h.jsx)("span",{children:c},a):Object(h.jsx)(v,{name:a,value:c,onChange:y},a),t!==i.length-1&&":"]})}))}),n?i?Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{type:"button",onClick:j,children:Object(h.jsx)(b.c,{})},"start-timer-button"),Object(h.jsx)("button",{type:"button",onClick:f,children:Object(h.jsx)(b.b,{})},"restart-timer-button")]}):Object(h.jsx)("button",{type:"button",onClick:p,children:Object(h.jsx)(b.a,{})},"pause-timer-button"):Object(h.jsx)("button",{type:"button",onClick:j,children:Object(h.jsx)(b.c,{})},"start-timer-button")]},"pip-boy-screen")]})}}]),n}(i.Component));c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f3b29c52.chunk.js.map