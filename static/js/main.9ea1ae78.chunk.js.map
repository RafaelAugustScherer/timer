{"version":3,"sources":["Input.js","App.js","index.js"],"names":["Input","this","props","name","value","onChange","type","min","max","step","Component","musics","App","startTimer","state","soundtrack","every","paused","playTrack","timer","setInterval","timerHandler","setState","isStarted","isPaused","pauseTimer","fieldsBlinker","clearInterval","timerDisplay","resetTimer","hour","minute","second","isEnded","Number","timeUnit","blinkFields","endIntro","introEnded","target","String","length","forEach","music","idx","volume","play","musicName","addEventListener","map","Audio","pause","timeArr","padStart","className","autoPlay","muted","onEnded","src","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ea1ae78.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Input extends Component {\r\n  render() {\r\n    const { name, value, onChange } = this.props;\r\n    return (\r\n      <input\r\n        type=\"number\"\r\n        name={ name }\r\n        min=\"0\"\r\n        max=\"59\"\r\n        step=\"1\"\r\n        value={ value }\r\n        onChange={ onChange }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;","import React, { Component } from 'react';\nimport { VscDebugStart, VscDebugPause, VscDebugRestart } from 'react-icons/vsc';\nimport Input from './Input';\nimport './App.css';\n\nconst musics = [\n  \"The Ink Spots - It's All Over But The Crying\",\n  'Billie Holiday - Easy Living',\n  'Andrews Sisters & Danny Kaye - Civilization',\n  \"The Ink Spots - I Don't Want To Set The World On Fire\",\n  'Connie Allen - Rocket 69',\n];\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    const soundtrack = musics.map(\n      (musicName) => new Audio(`assets/soundtrack/${musicName}.mp3`)\n    );\n\n    this.state = {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      timer: null,\n      isStarted: false,\n      isPaused: false,\n      introEnded: false,\n      soundtrack,\n      musicName: 'Awaiting User',\n      fieldsBlinker: null,\n      timerDisplay: true,\n    };\n  }\n\n  componentWillUnmount() {\n    const { soundtrack, timer, fieldsBlinker } = this.state;\n    clearInterval(timer);\n    clearInterval(fieldsBlinker);\n    soundtrack.forEach((music) => music.pause());\n  }\n\n  startTimer = () => {\n    const { soundtrack } = this.state;\n    if (soundtrack.every(({ paused }) => paused)) this.playTrack();\n\n    const timer = setInterval(() => {\n      this.timerHandler(timer);\n    }, 1000);\n\n    this.setState({\n      isStarted: true,\n      isPaused: false,\n      timer,\n    });\n  };\n\n  pauseTimer = () => {\n    const { timer, fieldsBlinker } = this.state;\n    clearInterval(timer);\n    clearInterval(fieldsBlinker);\n\n    this.setState({\n      isPaused: true,\n      timer: null,\n      fieldsBlinker: null,\n      timerDisplay: true,\n    });\n  };\n\n  resetTimer = () => {\n    this.setState({\n      hour: 0,\n      minute: 0,\n      second: 0,\n      isStarted: false,\n      isPaused: false,\n      isEnded: false,\n      timer: null,\n    });\n  };\n\n  timerHandler = (timer) => {\n    let { hour, minute, second } = this.state;\n    const timeArr = [Number(hour), Number(minute), Number(second)];\n    const CLOCK_MAX = 59;\n\n    if (timeArr.every((timeUnit) => timeUnit === 0)) {\n      clearInterval(timer);\n      this.blinkFields();\n    } else if (minute === 0 && second === 0) {\n      hour -= 1;\n      minute = CLOCK_MAX;\n      second = CLOCK_MAX;\n    } else if (second === 0) {\n      minute -= 1;\n      second = CLOCK_MAX;\n    } else {\n      second -= 1;\n    }\n\n    this.setState({\n      hour,\n      minute,\n      second,\n    });\n  };\n\n  blinkFields = () => {\n    const fieldsBlinker = setInterval(() => {\n      this.setState(({ timerDisplay }) => ({\n        timerDisplay: !timerDisplay,\n      }));\n    }, 1000);\n\n    this.setState({ fieldsBlinker });\n  };\n\n  endIntro = () => this.setState({ introEnded: true });\n\n  onChange = ({ target: { name, value } }) => {\n    const CLOCK_MAX = 59;\n\n    value = String(value);\n    if (value.length <= 2 && Number(value) <= CLOCK_MAX) {\n      this.setState({ [name]: Number(value) });\n    }\n  };\n\n  playTrack = () => {\n    const { soundtrack } = this.state;\n    soundtrack.forEach((music, idx) => {\n      music.volume = 0.5;\n      if (idx === 0) {\n        music.play();\n\n        const musicName = `${musics[idx]} ♪`;\n        this.setState({ musicName });\n      }\n      if (idx !== soundtrack.length - 1) {\n        music.addEventListener('ended', () => {\n          const music = soundtrack[idx + 1];\n          music.play();\n\n          const musicName = `${musics[idx + 1]} ♪`;\n          this.setState({ musicName });\n        });\n      }\n      else {\n        music.addEventListener('ended', () => this.playTrack());\n      }\n    });\n  };\n  render() {\n    const { hour, minute, second, isStarted, isPaused, introEnded, musicName, timerDisplay } =\n      this.state;\n    const { startTimer, pauseTimer, resetTimer, onChange, endIntro } = this;\n    const timeArr = [hour, minute, second].map((timeUnit) =>\n      String(timeUnit).padStart(2, '0')\n    );\n\n    return (\n      <div className=\"App\">\n        {!introEnded && (\n          <video autoPlay muted onEnded={endIntro}>\n            <source src=\"assets/initialize.mp4\" type=\"video/mp4\" />\n          </video>\n        )}\n        <h2 className=\"music-name\">{musicName}</h2>\n        {!isStarted ? (\n          <>\n            <div className=\"timer-input\">\n              <Input name=\"hour\" value={hour} onChange={onChange} />\n              {':'}\n              <Input name=\"minute\" value={minute} onChange={onChange} />\n              {':'}\n              <Input name=\"second\" value={second} onChange={onChange} />\n            </div>\n            <button type=\"button\" onClick={startTimer}>\n              <VscDebugStart />\n            </button>\n          </>\n        ) : (\n          <>\n            <div className={`timer ${ !timerDisplay && 'hidden' }`}>\n              <span>{timeArr[0]}</span>\n              {':'}\n              <span>{timeArr[1]}</span>\n              {':'}\n              <span>{timeArr[2]}</span>\n            </div>\n            {!isPaused ? (\n              <button type=\"button\" onClick={pauseTimer}>\n                <VscDebugPause />\n              </button>\n            ) : (\n              <>\n                <button type=\"button\" onClick={startTimer}>\n                  <VscDebugStart />\n                </button>\n                <button type=\"button\" onClick={resetTimer}>\n                  <VscDebugRestart />\n                </button>\n              </>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}